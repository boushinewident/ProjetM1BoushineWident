
\documentclass[a4paper,11pt]{report}

\usepackage[latin1]{inputenc}
\usepackage[frenchb]{babel}
\usepackage{ucs} 
\usepackage[T1]{fontenc}
\usepackage{textcomp}
\usepackage{mathtext}
\usepackage{ae}
\usepackage{aeguill}
\usepackage{hyperref}
\usepackage{array,multirow,makecell}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{setspace}
\usepackage{lmodern}
\usepackage{fancyhdr}
\usepackage{amssymb}
\usepackage{mathrsfs}
\usepackage{mathptmx} 
\usepackage{multirow}

\newcommand{\Crucial}[1]{#1\footnote{le dilemme de prisonnier est un exemple classique utilisé pour démontrer {\bf #1}}}

\newcommand{\Important}[1]{ {\em #1} }
\newcommand{\Dixit}[2]{\og~#1~\fg (#2)}


\title{\includegraphics[width=12cm,height=30mm]{logo.jpg} \\ \vspace{15 mm} Université du Littoral \\ Master 1\up{ère} Année Ingénierie des Systèmes Informatiques Distribués \\ \vspace{15 mm} Rapport du projet : \\{\em Modélisation et simulation de la formation de coalitions par la théorie des jeux }\\ \vspace{10 mm}  Encadrant : Sébastien Verel - Chistopher Jankee }

\author{Etudiants: Saloua Boushine - Florian Wident}
\date{\today}

\begin{document}
\maketitle
\renewcommand{\contentsname}{Sommaire}
\tableofcontents

\chapter{Introduction :}


\section{Présentation du projet :}

La théorie des jeux permet de prédire le résultat des jeux de stratégie dans lequel les participants ont des informations incomplètes sur les intentions des autres . la plupart des recherches en théorie des jeux se concentrent sur la façon dont ces participants interagissent , Cette théorie peut être appliquée a de multiples contextes tel que le contexte économique ou encore social afin d'analyser une société par exemple.
\newline
\newline
\Crucial{La théorie des jeux} peut être coopératifs et non coopératifs. un jeu coopératif est un jeu ou les participant peuvent avoir un comportement coopératif, dans ce cas le jeu est une compétition entre les coalition de joueurs , plutôt qu'entre les joueurs individuels, pour appréhender la coordination entre les joueurs on doit utiliser le système multi-agent (SMA) comme outil dans notre thématique de recherche.
 \newline
 \newline
 Le système multi-agents est un système composé d'agents autonomes, qui peuvent s'organiser pour former des coalitions afin de maximiser leur gain ainsi que celui de leur coalition.
\subsection{La théorie des jeux évolutionnaire et mémétique:}
\subsubsection{EGT - Evolutionary Game Theory :}
	
	Cette partie présente le concept de EGT qui décrit l'interaction des stratégies des populations jouant les dilemmes classiques.l'effectif de chaque stratégie augmente et diminue selon le score[5][1].
	\newline
	\newline
	Le Jeu $\cal J$ est défini par le tuple suivant [4]
 \begin{verbatim}
	<Ej,{Ei:i = 1 .... |Ej|} ; {Ti : i = 1 .... |Ej|} >

	Ej:Ensemble fini des participants.
	
	Ei:Ensemble fini de Stratégies du participant j (j ? Ej).
	
	Ti:Fonction de gain (récompense) du participant j. 
	
\end{verbatim}

Une stratégie ne peut être évaluée que si les autres stratégies sont déjà connues , il ne peut exister de stratégie optimale indépendamment de celle des autres Participants. on cherche plutôt à déterminer des équilibres exprimant la notion de {\em Best Réponse}[4].
\subsubsection{Mémétique :}
	Le concept mémétique, décrit les stratégies d'imitation dans les populations , les individus et les groupes mois efficaces, imitent le comportement des agents les plus efficaces afin d?améliorer leurs objectifs, en se basant sur un algorithme mémétique\footnote{Les algorithmes mémétiques sont une hybridation entre les algorithmes de recherche locale et les algorithmes génétiques. introduits par Dawkins .Ils sont appelés aussi algorithmes génétiques hybrides, et Recherche locale Hybrides. }[1].
\subsection{Pourquoi étudier la formation de coalition :}
Supposons que les agents sont égoïstes, ou potentiellement non efficaces, ils doivent mettre en oeuvre La formation de la Coalition qui est un mécanisme qui se base sur un objectif commun entre les groupes d'agents, pour atteindre efficacement des objectifs ou maximiser leur utilité du groupe [6] , et aussi pour trouver une solution plus satisfaisante pour cet ensemble d'agents.
\newline
\newline
la formation de la coalition offre plusieurs avantages [7]
\newline
\newline
1 - Les agents réagissent de façon opportuniste.
\newline
\newline
2 - Révisent  dynamiquement leurs  intérêts et leurs objectifs .
\newline
\newline
3 - La formation de coalition permet d?appréhender de façon plus flexible puisque les places ne sont pas fixes le système peut réagir au changement.
\newline
\newline
4 - Les agents sont à l'emplacement où ils sont plus efficaces et ils bénéficient de leurs compétences respectives.
\newline
\newline
**********************************************

\subsection{Comment faire pour étudier cela ? :}
la recherche de la solution optimale qui se mesure en terme du profit total nécessite une solution à un problème NP-complète\footnote{un problème NP-complet : c'est-à-dire un problème complet pour la classe NP ( Un problème de décision est dans NP s'il peut être décidé sur une machine de Turing non-déterministe en temps polynomial par rapport à la taille de l'entrée.)- est un problème de décision vérifiant les propriétés suivantes :

 * Il est possible de vérifier une solution efficacement en temps polynomial.
 * Tous les problèmes de la classe NP se ramènent à celui-ci via une réduction polynomiale. [wikipedia]}.

Maintes solutions au problème de formation de coalition ont été présentées [2]. quelques modèles de formation de coalitions sont basés sur les concepts de la théorie des jeux d'autres se sont basés sur la  recherche opérationnelle, la théorie des graphes et les aspects algorithmiques des problèmes combinatoires.

Dans ce contexte nous présentons un modèle de simulation à base d'agents , adaptés pour simuler un scénario de la formation de coalitions, Cette analyse est effectuée au moyen d'une simulation multi-agents, dont l'environnement se compose d'une population d'agents positionnés dans un réseau carré en deux dimensions.
\newline
\newline
Chaque agent interagit avec ses voisins sous forme de partie , en choisissant soit de faire la défection soit de coopérer. ces agents peuvent décider de jouer de façon indépendante, ou ils peuvent décider de rejoindre ou de quitter une coalition.[1]
\newline
\newline
La décision de rester ou de quitter une coalition est largement basée sur le gain obtenu par l'agent par rapport au gain obtenu par ses voisins, cela nécessite généralement calculer une valeur pour chaque coalition possible, qui indique combien serait bénéfique cette coalition serait si elle a été formée[1].

\chapter{Description du modèle de coalition :}

\section{Système spatial :}

\subsection{Répartition spatiale :}
\vspace{15 mm}
\begin{center}
\includegraphics[width=40mm,height=40mm]{Voisinage.jpg}
\end{center}
\begin{figure}[htbp]
\caption{La répartition spatiale.}
\label{fig:spatial}
\end{figure}

Nous considérons un réseau carré à deux dimensions, constitué de N noeuds, et que chaque agent de la cellule Ai peut seulement interagir avec les cellules de son voisinage , dont la taille peut être augmentée ou diminuée en fonction du NR ( neighbourhood ratio ) qui permet de connaître le nombre d'agents avec lesquels un agent interagit à chaque tour de jeu[1].
	\newline
	\newline
	Le plus petit NR possible est de 1 et représente les 4 voisins directs de l'agent ( en haut , en bas , à gauche et à droite) selon le voisinage de {\em Von Neumann }.
	\newline
	\newline
	Le NR s'incrémente par tranche de 0,5 plus le NR est élevé, plus l'agent rencontrera un grand nombre d'agents à chaque tour, ainsi si le NR est de 1.5, il rencontrera les 4 agents présents à {\em NR = 1 + les 4 agents en diagonale } . 
	\newline
	\newline
	Le NR peut être assimilé au rayon mathématique, plus il est grand et plus le cercle partant de l'agent atteint un grand nombre d'autres agents.
	\newline
	\newline
	Dans notre cas en se basant sur la figure~\ref{fig:spatial}:
	\newline
	  -Bleu foncé c'est les voisins avec un NR = 1
	\newline
	  -Vert c'est les voisins qu'il faut ajouter aux voisins bleus pour obtenir un NR 1.5
	
%\subsection{états des agents :}
\subsection{règles du jeu :}

Chaque cellule de notre distribution spatiale est dirigée par un agent qui suivra l'une des deux stratégies de base : la défection D ou la coopération C ,est en interaction avec un autre agent de son voisinage qui doit choisir aussi une action, le choix effectué par chaque agent est inconnu par l'agent adverse. A la fin du tour et une fois le choix des deux agents est connu, un gain  est attribué à chaque agent , ce gain est défini dans la matrice de payoff.
\newline
\begin{table}[htbp]
\begin{center}
\begin{minipage}[t]{.4\linewidth}
\setlength{\doublerulesep}{\arrayrulewidth}
\begin{tabular}{|l||l|l|}
\hline
\rotatebox{45}{Ai / Aj\,} & C & D \\
\hline\hline
C & R,R & S,T\\
\hline
D & T,S & P,P \\
\hline
\end{tabular}
\end{minipage}
\hfill
\begin{minipage}[t]{.4\linewidth}
\setlength{\doublerulesep}{\arrayrulewidth}
\begin{tabular}{|l||l|l|}
\hline
\rotatebox{45}{Ai / Aj\,} & C & D \\
\hline\hline
C & 3,3 & 0,5\\
\hline
D & 5,0 & 1,1 \\
\hline
\end{tabular}
\end{minipage}
\end{center}
\end{table}

\begin{figure}[htbp]
\caption{Matrice dilemme du prisonnier classique.}
\label{fig:dessin}
\end{figure}
On considère R = 3 et P = 1,en variant T et S on peut avoir dilemmes suivants[9]:
\newline
\newline
- {\em R,R > T,S ET S,T > P,P }  ce qui représente le cas d'un équilibre de Nash \footnote{Dans la théorie des jeux, l'équilibre de Nash,est un concept de solution dans lequel l'ensemble des choix faits par plusieurs joueurs, connaissant leurs stratégies réciproques, est devenu stable du fait qu'aucun ne peut modifier seul sa stratégie sans affaiblir sa position personnelle [wikipedia]} stable : {\em C}.
\newline
\newline
- {\em R,R < T,S ET S,T < P,P }  ce qui représente le cas d'un équilibre de Nash stable : {\em D }.
\newline
\newline
- {\em R,R > T,S ET S,T < P,P  }  ce qui représente le cas d'un équilibre de Nash : {\em bi-stable}.
\newline
\newline
- {\em R,R < T,S ET S,T > P,P  } ce qui représente le cas d'un équilibre de Nash : {\em Co-Existent}.
\newline
\newline
	Le modèle de simulation présenté dans notre contexte est le modèle de jeu du dilemme du prisonnier spatiale .
	\newline
	\newline
	Les analyses montrent que la défection est une stratégie dite stable évolutionnaire dans le dilemme de prisonnier "one-shot".
	\newline
	\newline
	Si les agents ne regardent que leur propre intérêt personnel, il est préférable pour eux de défécter alors que si on regarde en terme de gain cumulé par l'ensemble des agents, il est plus bénéfique de coopérer. 
	\newline
	\newline
	Dans notre cas c'est un jeu entre n joueurs ,on suppose que chaque agent Ai interagit seulement avec les agents de son voisinage.le gain pour chaque agent dépend du nombre de coopérateurs dans son voisinage . voir tableaux (~\ref{fig:TabCoop} et ~\ref{fig:TabDef}). on fait la réinitialisation du gain de chaque cellule au début de chaque tour[1].
	
\begin{center}
\begin{minipage}[t]{.4\linewidth}
\setlength{\doublerulesep}{\arrayrulewidth}
\begin{tabular}{|l||l|l|l|}
\hline
 & Cooperate & Defecte & Payoff \\
\cline{2-4}\cline{2-4}
\multirow{5}{*}{Cooperate} & 3 * 4 = 12 & 0 * 0 = 0 & 12\\
 \cline{2-4}
 & 3 * 3 = 9 & 0 * 1 = 0 & 9\\
 \cline{2-4}
 & 3 * 2 = 6 & 0 * 2 = 0 & 6\\
 \cline{2-4}
 & 3 * 1 = 3 & 0 * 3 = 0 & 3\\
 \cline{2-4}
 & 3 * 0 = 0 & 0 * 4 = 0 & 0\\
\hline
\end{tabular}
\end{minipage}
\end{center}

\begin{figure}[htbp]
\caption{PayOff Voisinage D'un joueur qui coopère.}
\label{fig:TabCoop}
\end{figure}

\begin{center}
\begin{minipage}[t]{.4\linewidth}
\setlength{\doublerulesep}{\arrayrulewidth}
\begin{tabular}{|l||l|l|l|}
\hline
 & Cooperate & Defecte & Payoff \\
\cline{2-4}\cline{2-4}
\multirow{5}{*}{Defect} & 5 * 4 = 20 & 1 * 0 = 0 & 20\\
 \cline{2-4}
 & 5 * 3 = 15 & 1 * 1 = 1 & 16\\
 \cline{2-4}
 & 5 * 2 = 10 & 1 * 2 = 2 & 12\\
 \cline{2-4}
 & 5 * 1 = 5 & 1 * 3 = 3 & 8\\
 \cline{2-4}
 & 5 * 0 = 0 & 1 * 4 = 4 & 4\\
\hline
\end{tabular}
\end{minipage}
\end{center}

\begin{figure}[htbp]
\caption{PayOff Voisinage D'un joueur qui Défecte.}
\label{fig:TabDef}
\end{figure}

\section{Les Rôles D'agents :}

Ai et Aj suivent des règles simples pour prendre des  décisions concernant la formation de la coalition . Les coalitions ont une structure organisationnelle à deux niveaux. Un des membres de la coalition mène le groupe  est appelé le chef de la Coalition « Leader »,  tandis que les autres membres sont appelés « Coalition Part», En outre, si un agent ne fait pas partie d'une coalition, il est considéré comme indépendant[1].
\newline
\newline
$\Rightarrow$
  Indépendant: Le propriétaire peut soit agir comme un C ou D  à l'égard de ses voisins, Après chaque jeu, il peut se joindre à une coalition ou rester indépendant.  Les stratégies des agent sont fixes et fixées au début de chaque tour. Dans ce travail, la stratégie possible est le probabilistic Tit-for-tat (pTFT) expliqué plus bas.
\newline
\newline
$\Rightarrow$
  Coalition Part :  L'agent coopère toujours avec les voisins appartenant à sa coalition et prend sa décision de coopération ou de défection envers les voisins indépendants selon la décision prise par le leader de la coalition. En fonction du résultat obtenu à la fin du tour , il peut devenir agent indépendant si son compromis avec son leader est inférieur à un certain seuil ou si il n'est pas le meilleur de son voisinage.
\newline
\newline
$\Rightarrow$
  Leader :  agit comme ses parties le leader. Décide la stratégie commune pour le prochain tour , impose également un pourcentage de l'impôt à la récompense des agents «Coalition Part» à chaque itération, car il représente la coalition toute entière au cours de la procédure de négociation avec l'État, Ne peut pas décider de devenir indépendant à tout moment: il peut prendre cette décision seulement quand il n'y a pas de « Coalition part » à la coalition qu'il dirige. 
  \newline
  \newline
  Les membres de la coalition peuvent être soit isolés, soit non isolé, ils sont considérés comme isolés si aucun de leur voisin ne fait partie de leur coalition.
  \newline
\section{Les Coalitions :}
Dans notre cas, comme on s'est basé sur les travaux de Juan.C [1], le modèle de formation de coalition est adapté à un jeu spatial du dilemme du prisonnier et procède comme suite :
\newline
\newline
-Chaque agent de la cellule $\cal Ai$ essaie d'augmenter son pourcentage de compromis avec un agent voisin $\cal Aj$ à 10\% lorsque $\cal Aj$  se comporte comme un coopérateur ou réduit son compromis de 10\% lorsque $\cal Aj$ se comporte comme un defecte.
\newline
\newline
Quand une cellule appartient à une coalition, elle coopère avec les autres cellules de la coalition, et comme le leader décide (C ou D) avec les cellules en dehors de sa coalition.
\newline
\newline
L'algorithme peut être expliqué comme suite:
Il y a deux alternatives, soit l'agent Ai a un leader ou l'agent Ai est indépendant. si l'agent Ai a un chef, trois possibilités sont vérifiés:
\newline
\newline
1- si l'agent Ai est isolé il devient indépendant. cette modèle de situation où il n'y a pas d'autre cellule appartenant à la coalition dans son voisinage.
\newline
\newline
2-si l'agent Ai est pas isolé , et le gain de Ai est le meilleur dans son voisinage est supérieur à zero, alors Ai augmente son compromis avec son chef de 10\%.
\newline
\newline
3-si le gain de Ai est pas le meilleur et son leader est pas Am, alors Ai peut prendre plusieurs décisions. tout d'abord, Ai réduit son compromis avec son chef de 10\%, si le gain de Ai est le pire dans son voisinage, ou son compromis avec Am est supérieur à 75\%, il rejoint la coalition de Am sachant que Am ne peut pas être un leader. Sinon si Am est une cellule indépendante et le compromis de Ai avec son chef est inférieur à 25\% alors il déclare son indépendance. enfin, si Ai est indépendant. il a le pire gain ou il est pas le meilleur mais son compromis avec Am est supérieur à 75\% puis elle rejoint la coalition de Am.
\section{Les stratégies :}
Les différentes stratégies applicables sont les suivantes : 
\subsection{probabiliste Tit-for-tat(PTFT) :}
Le pTFT est une stratégie se basant sur l'imitation de la stratégie de nos voisins.
\newline
\newline
il permet de reproduire l'action la plus effectuée dans notre voisinage en comptant le nombre de défections/ nombre de voisins sur le tour précédent.
\newline
\newline
Ainsi, si ¼ des voisins a coopéré au tour t-1, alors nous aurons  ¼  de chances de coopérer au tour t.
\newline
\subsection{Apprentissage Automates(LA) :}
\chapter{Implémentation et expérimentation :}
\section{dilemme de prisonnier Spatial (DPS) :}
\section{Coalition Statique (CS):}
\section{Coalition Dynamique (CD):}
\chapter{Discussion et conclusion :}
\chapter{Bibliographie :}
.
\newline
[1]: Juan C. Burguillo-Rial : A Memetic Framework for Describing and Simulating Spatial Prisoner's Dilemma with Coalition Formation - Vigo - spain
\newline
\newline
[2]: R. AZOULAY-SCHWARTZ and S.KRAUS: Negotiation on data allocation in multi-agents environments
\newline
\newline
[3]:  Griffiths, N., Luck, M.: Coalition formation through motivation and trust. In: Proceedings of the second international joint conference on Autonomous agents and multiagent systems. pp. 17?24. AAMAS?03, ACM, New York, USA (2003)
\newline
\newline
[4]: M.A Hamila et E.Grislin-le Strugeon et R. Mandiau A.I.Mouaddib : Jeux stochastique à somme générale pour la coordination multi-agents . lille.France
\newline
\newline
[5]: R.DORAT : Répartition spatiale en théorie des jeux évolutionnaire .lille.france
\newline
\newline
[6]:Sandholm T., Lesser V., 1995. Coalition  Formation among bounded rational agents. In  IJCAI-95,  pp 662-669, Montréal , 1995. 
\newline
\newline
[7]:Amal El Fallah-SeghrouchNi : modèles de coordination d'agents cognitifs 
\newline
\newline
[8]: Ken Binmore : Fun and Games: A Text on Game Theory.
\newline
\newline
[9]: S.Verel : Théorie des jeux - jeux évolutionnaires
\newline
\newline
[10]: 
\newline
\newline
[11]: 
\newline
\newline
[12]: 
\newline
\newline
\end{document}
